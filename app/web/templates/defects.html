{% extends "console_base.html" %}

{% block content %}
<div class="panel">
  <h2>Defect List</h2>
  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Severity</th>
        <th>Status</th>
        <th>Assigned</th>
        <th>Observation</th>
      </tr>
    </thead>
    <tbody>
      {% for item in defects %}
      <tr>
        <td>{{ item.id }}</td>
        <td>{{ item.severity }}</td>
        <td>{{ item.status }}</td>
        <td>{{ item.assigned_to }}</td>
        <td>{{ item.observation_id }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<div class="panel">
  <h2>Quick Actions</h2>
  <div class="grid cols-2">
    <div>
      <label>Defect ID</label>
      <input id="defect-id" placeholder="defect id">
    </div>
    <div>
      <label>Assign To (user id)</label>
      <input id="assigned-to" placeholder="user id">
    </div>
  </div>
  <div class="grid cols-2" style="margin-top:12px;">
    <button id="assign-btn">Assign</button>
    <div>
      <label>New Status</label>
      <select id="next-status">
        <option>ASSIGNED</option>
        <option>IN_PROGRESS</option>
        <option>FIXED</option>
        <option>VERIFIED</option>
        <option>CLOSED</option>
      </select>
    </div>
  </div>
  <button id="status-btn" style="margin-top:10px;">Update Status</button>
  <div class="hint" id="defect-result"></div>
</div>
{% endblock %}

{% block scripts %}
<script src="/static/defects.js"></script>
{% endblock %}
