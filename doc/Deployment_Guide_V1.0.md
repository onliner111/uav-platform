# 城市无人机巡查与应急指挥平台

# 运维部署手册

版本：V1.0\
生成时间：2026-02-21 05:20:56

------------------------------------------------------------------------

# 一、部署环境要求

-   Docker 20+
-   Docker Compose 插件
-   4GB 以上内存
-   20GB 可用磁盘空间

------------------------------------------------------------------------

# 二、启动步骤

1.  克隆项目代码
2.  进入项目目录
3.  执行：

docker compose up --build -d

------------------------------------------------------------------------

# 三、数据库迁移

docker compose exec app alembic upgrade head

------------------------------------------------------------------------

# 四、停止系统

docker compose down

------------------------------------------------------------------------

# 五、日志查看

docker compose logs -f

------------------------------------------------------------------------

# 六、备份与恢复

数据库备份：

docker compose exec db pg_dump -U postgres dbname \> backup.sql

数据库恢复：

docker compose exec -T db psql -U postgres dbname \< backup.sql

------------------------------------------------------------------------

# 七、升级流程

1.  拉取最新代码
2.  重新构建镜像
3.  执行数据库迁移
