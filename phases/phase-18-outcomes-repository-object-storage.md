# Phase 18 - 成果库与对象存储

## 0. Basis
- Depends on: `phases/phase-17-multi-org-data-perimeter-v2.md`

## 1. Objective
建立可交付级成果资产体系，支持原始数据、成果版本、报告导出与生命周期策略。

## 2. Scope
- 对象存储接入（原始数据与成果文件）
- 成果版本管理与元数据追踪
- 报告自动生成（PDF/Word）链路增强
- 成果生命周期策略（保留、归档、清理）
- 成果访问权限与审计联动

## 3. Out of Scope
- 自研分布式文件系统
- 超大规模离线批处理平台

## 4. Deliverables
- 存储适配层与上传下载 API
- 成果版本与生命周期域模型
- 报告模板中心与导出任务增强
- 存储与成果一致性回归测试

## 5. Acceptance
- 大文件上传/下载稳定可用（单文件 `<=256MB`，并发 `>=20` 请求，成功率 `>=99%`）
- 同一成果可追溯版本演进
- 报告可按任务与时间窗稳定导出（导出成功率 `>=99%`）
- 访问控制与审计符合权限策略

## 6. Exit Criteria
- `ruff`, `mypy`, `pytest`, `e2e` 全绿
- 成果导出与回溯演示脚本可复跑

---

## 7. Priority Tuning (P0/P1/P2)

- P0（先做，阻塞行业交付）：
  - `18-WP1` 对象存储接入最小链路
  - `18-WP2` 成果版本模型与访问控制
- P1（随后完成，形成交付闭环）：
  - `18-WP3` 报告自动生成与模板管理
  - `18-WP4` 生命周期策略与审计联动
- P2（可延后到本阶段后半）：
  - `18-WP5` 跨区域存储与冷热分层优化
- 执行顺序：`P0 -> P1 -> P2 -> 18-WP6`

## 8. Execution Progress

- [x] 18-WP1 对象存储接入最小链路
- [x] 18-WP2 成果版本模型与访问控制
- [x] 18-WP3 报告自动生成与模板管理
- [x] 18-WP4 生命周期策略与审计联动
- [x] 18-WP5 跨区域存储与冷热分层优化
- [x] 18-WP6 验收关账
